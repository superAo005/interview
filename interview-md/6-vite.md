### unbundle 机制的核心
1. 模块之间的依赖关系的解析由浏览器实现
2. 文件的转换由 dev server 的 middlewares 实现并做缓存
3. 不对源文件做合并捆绑操作
### 热更新
由于 Vite 采用 unbundle 机制，所以 dev server 在监听到文件发生变化以后，只需要通过 ws 连接通知浏览器去重新加载变化的文件，剩下的工作就交给浏览器去做了
热更新，webpack 这边的过程：对修改的文件重新做解析，然后生成新的打包文件；然后通过 ws 连接通知浏览器需要更新哪些文件；浏览器收到通知以后，就去加载新的打包文件，然后更新
vite 的操作: 知道发生变化的文件；通过 ws 连接告诉浏览器那个文件发生变化；浏览器知道哪个文件发生变化，重新请求发生变化的文件；server 对请求的文件做转换；浏览器拿到响应以后更新页面；
### 缺点
unbundle 机制给 Vite 在 dev server 方面获得巨大性能提升的同时，也带来一些负面影响，那就是首屏和懒加载性能的下降
Vite 把需要在 dev server 启动过程中完成的工作，转移到了 dev server 响应浏览器请求的过程中，不可避免的导致首屏性能下降
1. 不对源文件做合并捆绑操作，导致大量的 http 请求
2. dev server 运行期间对源文件做 resolve、load、transform、parse 操作
3. 预构建、二次预构建操作也会阻塞首屏请求，直到预构建完成为止