### react 新旧版本生命周期

```js
// react16 中废弃了三个钩子
componentWillMount; // 组件将要挂载的钩子
componentWillReceiveProps; // 组件将要接收一个新的参数时的钩子
componentWillUpdate; // 组件将要更新的钩子
// 新增了方法
getDerivedStateFromProps; // 静态方法
getSnapshotBeforeUpdate;

```

在16.8版本以后，react将diff运算改进为Fiber，这样的话当我们调用setState方法进行更新的时候，在reconciler 层中js运算会按照节点为单位拆分成一个个小的工作单元，在render前可能会中断或恢复，就有可能导致在render前这些生命周期在进行一次更新时存在多次执行的情况，此时如果我们在里面使用ref操作dom的话，就会造成页面频繁重绘，影响性能。
所以废弃了这几个will系列的勾子，增加了 getDerivedStateFromProps这个静态方法，
这样的话我们就不能在其中使用this.refs以及this上的方法了；
getSnapshotBeforeUpdate 这个方法已经到了commit阶段，只会执行一次，给想读取 dom 的用户一些空间。

jsx vdom 渲染 挂载 更新 调度
