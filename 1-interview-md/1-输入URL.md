## 输入 URL 到页面加载的全过程

1. 首先在浏览器中输入 URL 看域名是否被解析过
   查找缓存：浏览器先查看浏览器缓存-系统缓存-路由缓存中是否有该地址页面，如果有则显示页面内容。如果没有则进行下一步。
   浏览器缓存：浏览器会记录 DNS 一段时间，因此，只是第一个地方解析 DNS 请求；
   操作系统缓存:如果在浏览器缓存中不包含这个记录，则会使系统调用操作系统， 获取操作系统的记录(保存最近的 DNS 查询缓存)；
   路由器缓存：如果上述两个步骤均不能成功获取 DNS 记录，继续搜索路由器缓存；
   ISP 缓存：若上述均失败，继续向 ISP 搜索。
2. DNS 域名解析：浏览器向 DNS 服务器发起请求，解析该 URL 中的域名对应的 IP 地址。DNS 服务器是基于 UDP 的，因此会用到 UDP 协议。ip 加端口号
3. 建立 TCP 连接：解析出 IP 地址后，根据 IP 地址和默认 80 端口，和服务器建立 TCP 连接
4. 发起 HTTP 请求：浏览器发起读取文件的 HTTP 请求，该请求报文作为 TCP 三次握手的第三次数据发送给服务器
   如果是 https ssl 协商
5. 服务器响应请求并返回结果：服务器对浏览器请求做出响应，并把对应的 html 文件发送给浏览器
   默认不会断开 keep-alive 为了下次传输数据时 可以复用上次创建的链接
   关闭 TCP 连接：通过四次挥手释放 TCP 连接

6. 浏览器渲染：客户端（浏览器）解析 HTML 内容并渲染出来，浏览器接收到数据包后的解析流程为：
   1. 构建 DOM 树：词法分析然后解析成 DOM 树（dom tree），是由 dom 元素及属性节点组成，树的根是 document 对象
   2. 构建 CSS 规则树：生成 CSS 规则树（CSS Rule Tree）
   3. 构建 render 树：Web 浏览器将 DOM 和 CSSOM 结合，并构建出渲染树（render tree）
   4. 布局（Layout）：计算出每个节点在屏幕中的位置
   5. 绘制（Painting）：即遍历 render 树，并使用 UI 后端层绘制每个节点。
   ### 重排
   当改变 DOM 元素位置或大小时，会导致浏览器重新生成渲染树，这个过程叫重排
   ### 重绘
   
