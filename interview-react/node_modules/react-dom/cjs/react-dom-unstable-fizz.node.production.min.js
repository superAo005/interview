/** @license React vundefined
 * react-dom-unstable-fizz.node.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';var f=require("react");function l(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)b+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(a){"function"===typeof a.cork&&a.cork()}function n(a){"function"===typeof a.uncork&&a.uncork()}
function p(a){return Buffer.from(a,"utf8")}
var q=p("<"),r=p(">"),x=p("</"),y=p(">"),z=p('<span id="'),A=p("P:"),B=p('"></span>'),C=p("\x3c!--$--\x3e"),D=p("\x3c!--$?--\x3e"),E=p("\x3c!--$!--\x3e"),F=p("\x3c!--/$--\x3e"),aa=p('<div hidden id="'),ba=p("S:"),ca=p('">'),da=p('"></div>'),ea=p('<script>function $RS(b,f){var a=document.getElementById(b),c=document.getElementById(f);for(a.parentNode.removeChild(a);a.firstChild;)c.parentNode.insertBefore(a.firstChild,c);c.parentNode.removeChild(c)};$RS("S:'),fa=p('<script>$RS("S:'),ha=p('","P:'),ia=
p('")\x3c/script>'),ja=p('<script>function $RC(b,f){var a=document.getElementById(b),c=document.getElementById(f);c.parentNode.removeChild(c);if(a){do a=a.previousSibling;while(8!==a.nodeType||"$?"!==a.data);var h=a.parentNode,d=a.nextSibling,g=0;do{if(d&&8===d.nodeType){var e=d.data;if("/$"===e)if(0===g)break;else g--;else"$"!==e&&"$?"!==e&&"$!"!==e||g++}e=d.nextSibling;h.removeChild(d);d=e}while(d);for(;c.firstChild;)h.insertBefore(c.firstChild,d);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),
ka=p('<script>$RC("'),la=p('","S:'),ma=p('")\x3c/script>'),na=p('<script>function $RX(b){if(b=document.getElementById(b)){do b=b.previousSibling;while(8!==b.nodeType||"$?"!==b.data);b.data="$!";b._reactRetry&&b._reactRetry()}};$RX("'),oa=p('<script>$RX("'),pa=p('")\x3c/script>'),G=60103,H=60113;if("function"===typeof Symbol&&Symbol.for){var I=Symbol.for;G=I("react.element");H=I("react.suspense")}var J=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;
function qa(a,b){var d=a.pingedWork;d.push(b);1===d.length&&setImmediate(function(){return K(a)})}function L(a,b,d,c,e){a.allPendingWork++;null===d?a.pendingRootWork++:d.pendingWork++;var g={node:b,ping:function(){return qa(a,g)},blockedBoundary:d,blockedSegment:c,assignID:e};return g}function M(a,b,d){return{status:0,id:-1,index:b,parentFlushed:!1,chunks:[],children:[],boundary:d}}
function P(a,b,d,c){if("string"===typeof c)d.chunks.push(p(c));else{if("object"!==typeof c||!c||c.$$typeof!==G)throw Error("Not yet implemented node type.");var e=c.type,g=c.props;if("function"===typeof e)try{var k=e(g);P(a,b,d,k)}catch(h){if("object"===typeof h&&null!==h&&"function"===typeof h.then)d=M(a,d.chunks.length,null),a=L(a,c,b,d,null).ping,h.then(a,a);else throw h;}else if("string"===typeof e)d.chunks.push(q,p(e),r),P(a,b,d,g.children),d.chunks.push(x,p(e),y);else if(e===H)e=g.fallback,
c=g.children,g={id:{id:null},rootSegmentID:-1,parentFlushed:!1,pendingWork:0,forceClientRender:!1,completedSegments:[],byteSize:0},d=M(a,d.chunks.length,g),b=L(a,e,b,d,g.id),a.pingedWork.push(b),b=M(a,0,null),b.parentFlushed=!0,b=L(a,c,g,b,null),Q(a,b);else throw Error("Not yet implemented element type.");}}
function Q(a,b){var d=b.blockedSegment,c=b.blockedBoundary;try{for(var e=b.node;"object"===typeof e&&null!==e&&e.$$typeof===G&&"function"===typeof e.type;){var g=e;b.node=e;e=g.type(g.props)}P(a,c,d,e);d.status=1;a.allPendingWork--;if(null===c){if(a.pendingRootWork--,d.parentFlushed){if(null!==a.completedRootSegment)throw Error(l(389));a.completedRootSegment=d}}else if(c.pendingWork--,!c.forceClientRender)if(0===c.pendingWork)d.parentFlushed&&c.completedSegments.push(d),c.parentFlushed&&a.completedBoundaries.push(c);
else if(d.parentFlushed){var k=c.completedSegments;k.push(d);1===k.length&&c.parentFlushed&&a.partialBoundaries.push(c)}}catch(h){"object"===typeof h&&null!==h&&"function"===typeof h.then?(a=b.ping,h.then(a,a)):(d.status=3,a.allPendingWork--,null!==c&&c.pendingWork--,null===c?a.status=2:c.forceClientRender||(c.forceClientRender=!0,c.parentFlushed&&a.clientRenderedBoundaries.push(c)))}}
function K(a){if(2!==a.status){var b=J.current;J.current=ra;try{var d=a.pingedWork,c;for(c=0;c<d.length;c++)Q(a,d[c]);d.splice(0,c);1===a.status&&R(a)}catch(e){a.status=2}finally{J.current=b}}}
function S(a,b,d){d.parentFlushed=!0;switch(d.status){case 0:return a=d.id=a.nextSegmentId++,b.write(z),b.write(A),a=p(a.toString(16)),b.write(a),b.write(B);case 1:d.status=2;var c=!0,e=d.chunks,g=0;d=d.children;for(var k=0;k<d.length;k++){for(c=d[k];g<c.index;g++)b.write(e[g]);c=T(a,b,c)}for(;g<e.length;g++)c=b.write(e[g]);return c;default:throw Error(l(390));}}
function T(a,b,d){var c=d.boundary;if(null===c)return S(a,b,d);c.parentFlushed=!0;if(c.forceClientRender)b.write(E),S(a,b,d);else if(0<c.pendingWork)c.rootSegmentID=a.nextSegmentId++,0<c.completedSegments.length&&a.partialBoundaries.push(c),b.write(D),S(a,b,d);else if(c.byteSize>a.maxBoundarySize)c.rootSegmentID=a.nextSegmentId++,a.completedBoundaries.push(c),b.write(D),S(a,b,d);else{b.write(C);d=c.completedSegments;if(1!==d.length)throw Error(l(391));T(a,b,d[0])}return b.write(F)}
function U(a,b,d){var c=d.id;b.write(aa);b.write(ba);c=p(c.toString(16));b.write(c);b.write(ca);T(a,b,d);return b.write(da)}function V(a,b,d){for(var c=d.completedSegments,e=0;e<c.length;e++)W(a,b,d,c[e]);c.length=0;a=a.responseState;c=d.id;d=d.rootSegmentID;a.sentCompleteBoundaryFunction?(a.sentCompleteBoundaryFunction=!0,b.write(ja)):b.write(ka);if(null===c.id)throw Error(l(395));a=p(c.id);d=p(d.toString(16));b.write(a);b.write(la);b.write(d);return b.write(ma)}
function W(a,b,d,c){if(2===c.status)return!0;var e=c.id;if(-1===e){if(-1===(c.id=d.rootSegmentID))throw Error(l(392));return U(a,b,c)}U(a,b,c);a=a.responseState;a.sentCompleteSegmentFunction?(a.sentCompleteSegmentFunction=!0,b.write(ea)):b.write(fa);e=p(e.toString(16));b.write(e);b.write(ha);b.write(e);return b.write(ia)}var X=!1;
function R(a){if(!X){X=!0;var b=a.destination;m(b);try{var d=a.completedRootSegment;null!==d&&0===a.pendingRootWork&&(T(a,b,d),a.completedRootSegment=null);var c=a.clientRenderedBoundaries,e;for(e=0;e<c.length;e++){var g=a.responseState,k=c[e].id;g.sentClientRenderFunction?(g.sentClientRenderFunction=!0,b.write(na)):b.write(oa);if(null===k.id)throw Error(l(395));var h=p(k.id);b.write(h);if(!b.write(pa)){a.status=0;e++;c.splice(0,e);return}}c.splice(0,e);var t=a.completedBoundaries;for(e=0;e<t.length;e++)if(!V(a,
b,t[e])){a.status=0;e++;t.splice(0,e);return}t.splice(0,e);n(b);m(b);var u=a.partialBoundaries;for(e=0;e<u.length;e++){var N=u[e];a:{d=a;var v=N.completedSegments;for(c=0;c<v.length;c++)if(!W(d,b,N,v[c])){c++;v.splice(0,c);var O=!1;break a}v.splice(0,c);O=!0}if(!O){a.status=0;e++;u.splice(0,e);return}}u.splice(0,e);var w=a.completedBoundaries;for(e=0;e<w.length;e++)if(!V(a,b,w[e])){a.status=0;e++;w.splice(0,e);return}w.splice(0,e)}finally{X=!1,n(b),"function"===typeof b.flush&&"function"!==typeof b.flushHeaders&&
b.flush(),0===a.allPendingWork&&0===a.pingedWork.length&&0===a.clientRenderedBoundaries.length&&0===a.completedBoundaries.length&&b.end()}}}function sa(a){a.status=1;setImmediate(function(){return K(a)})}function Y(){throw Error("Not yet implemented.");}function ta(){throw Error(l(393));}function ua(){throw Error(l(394));}function Z(){}
var ra={useMemo:function(a){return a()},useCallback:function(a){return a},useDebugValue:function(){},useDeferredValue:function(a){return a},useTransition:function(){return[ua,!1]},getCacheForType:function(){throw Error("Not yet implemented. Should mark as client rendered.");},readContext:Y,useContext:Y,useReducer:Y,useRef:Y,useState:Y,useLayoutEffect:Z,useImperativeHandle:Z,useEffect:Z,useOpaqueIdentifier:Y,useMutableSource:Y,useCacheRefresh:function(){return ta}};
function va(a,b){return function(){if(2!==b.status){b.status=1;try{R(b)}catch(d){b.status=2}}}}
exports.pipeToNodeWritable=function(a,b){var d=[],c={destination:b,responseState:{sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1},maxBoundarySize:1024,status:0,nextSegmentId:0,allPendingWork:0,pendingRootWork:0,completedRootSegment:null,pingedWork:d,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[]},e=M(c,0,null);e.parentFlushed=!0;a=L(c,a,null,e,null);d.push(a);b.on("drain",va(b,c));sa(c)};
